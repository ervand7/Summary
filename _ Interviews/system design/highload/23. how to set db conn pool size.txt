👉 DB connection pool size — это *лимит* параллелизма для работы с БД.

Точнее:
* 1 DB connection ≈ 1 параллельно выполняющийся DB-запрос
* Pool size = верхняя граница параллельных DB-операций
* Всё сверх этого очередится в приложении

Короткая формула:
```
DB parallelism ≤ pool size
```

Итог одной строкой (интервью-версия):
> A DB connection pool defines the maximum parallelism of database access by limiting
how many queries can execute concurrently.


👉 DB connection pool size ограничивает, сколько запросов одновременно идут в БД.
Зачем это нужно:
* защищает БД от перегрузки
* вводит backpressure вместо хаоса
* стабилизирует latency
* предотвращает таймауты и retry-штормы
* делает поведение системы предсказуемым под нагрузкой

Итог одной строкой:
> Pool size controls concurrency to the database, trading a bit of queuing in the app 
for stability and predictable performance.

Как настроить:
1. Узнай, сколько активных коннекций выдерживает БД (≈ 2–4 × CPU cores) ≈ 16
2. Раздели это число на количество инстансов приложения (16 / 3 ≈ 5)
3. Начни с малого (5–10 коннекций на инстанс)
4. Увеличивай только если DB CPU не упирается

Суть в одной строке:
> Pool size выбирают от возможностей БД и числа инстансов, а не от RPS.

                ┌───────────────┐
                │   Clients     │
                └───────┬───────┘
                        │
                ┌───────▼───────┐
                │ Load Balancer │
                └───────┬───────┘
        ┌───────────────┼────────────────┐
        │               │                │
┌───────▼───────┐ ┌─────▼───────┐ ┌──────▼───────┐
│ App Instance  │ │ App Instance│ │ App Instance │
│      #1       │ │     #2      │ │      #3      │
│               │ │             │ │              │
│ DB pool = 4   │ │ DB pool = 4 │ │ DB pool = 4  │
└───────┬───────┘ └─────┬───────┘ └──────┬───────┘
        │               │                │
        └───────┬───────┴───────┬────────┘
                │   TOTAL: 12 DB connections
                ▼
         ┌─────────────────────┐
         │      Database       │
         │   max safe ≈ 12     │
         └─────────────────────┘

