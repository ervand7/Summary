### # 0ï¸âƒ£ Auth (assumed)

* Public search often allows anonymous access, but you still may use:

  * API key / JWT for partners
  * user_id (optional) for personalization

---

### # 1ï¸âƒ£ Search

#### `GET /v1/search?q=...&limit=10&cursor=...`

What it does:
ğŸ‘‰ Returns ranked documents + snippets.

Query params (common):

* `q` â€” query string
* `limit` â€” number of results (e.g., 10)
* `cursor` â€” pagination token (avoid page=1000)
* `lang` â€” preferred language
* `country` / `region` â€” geo boost (optional)
* `safe` â€” safe search mode (off/moderate/strict)
* `time_range` â€” last_day/last_week/custom (optional)

Response:

```json
{
  "query_id": "qid_123",
  "normalized_query": "best pizza belgrade",
  "next_cursor": "c_456",
  "results": [
    {
      "doc_id": "d_9f2",
      "url": "https://example.com/page",
      "title": "Best Pizza in Belgrade",
      "snippet": "â€¦top places for pizzaâ€¦",
      "score": 12.84,
      "language": "en",
      "last_crawled_ms": 1735900000000
    }
  ],
  "spelling": { "did_you_mean": "best pizza in belgrade" }
}
```

---

### # 2ï¸âƒ£ Autocomplete / Suggestions

#### `GET /v1/suggest?q=best piz&limit=10`

What it does:
ğŸ‘‰ Returns query completions based on logs + popularity.

Response:

```json
{
  "suggestions": [
    "best pizza belgrade",
    "best pizza near me",
    "best pizzeria belgrade"
  ]
}
```

---

### # 3ï¸âƒ£ Document details (optional)

#### `GET /v1/docs/{doc_id}`

What it does:
ğŸ‘‰ Returns stored metadata (useful for debug/tools).

Response:

```json
{
  "doc_id": "d_9f2",
  "canonical_url": "https://example.com/page",
  "title": "Best Pizza in Belgrade",
  "language": "en",
  "last_crawled_ms": 1735900000000,
  "content_hash": "sha256:..."
}
```

---

### # 4ï¸âƒ£ Logging feedback (optional but valuable)

#### `POST /v1/events/click`

What it does:
ğŸ‘‰ Collects clicks for ranking evaluation/training.

```json
{
  "query_id": "qid_123",
  "doc_id": "d_9f2",
  "position": 1,
  "ts_ms": 1735900001000
}
```

---

### # 5ï¸âƒ£ Crawling control (only if web crawler is in scope)

#### `POST /v1/crawl:submit`

ğŸ‘‰ Submit seed URLs (partners/admin).

```json
{ "urls": ["https://example.com"], "priority": "high" }
```

#### `POST /v1/remove`

ğŸ‘‰ Takedown/removal request (admin/legal).

```json
{ "url": "https://example.com/bad", "reason": "dmca" }
```
