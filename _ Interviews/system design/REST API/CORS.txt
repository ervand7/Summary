CORS (Cross-Origin Resource Sharing)‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –±—Ä–∞—É–∑–µ—Ä–∞, –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ—à–∞–µ—Ç, –º–æ–∂–Ω–æ –ª–∏
JS-–∫–æ–¥—É —Å –æ–¥–Ω–æ–≥–æ —Å–∞–π—Ç–∞ —á–∏—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –¥—Ä—É–≥–æ–≥–æ —Å–∞–π—Ç–∞.

## üß™ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (senior-–ª–∞–π—Ñ—Ö–∞–∫)
–†–∞–±–æ—Ç–∞–µ—Ç –≤:
* curl
* Postman
  –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ?

‚û°Ô∏è 99% —ç—Ç–æ CORS

---

## üß† –§—Ä–∞–∑–∞ —É—Ä–æ–≤–Ω—è senior / interview

CORS ‚Äî —ç—Ç–æ –±—Ä–∞—É–∑–µ—Ä–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—â–∞—è –¥–æ—Å—Ç—É–ø JavaScript –∫ cross-origin –æ—Ç–≤–µ—Ç–∞–º,
—Ä–µ–∞–ª–∏–∑—É–µ–º–∞—è —á–µ—Ä–µ–∑ HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –Ω–µ –≤–ª–∏—è—é—â–∞—è –Ω–∞ backend-to-backend –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ.


## –£—á–∞—Å—Ç–Ω–∏–∫–∏ (–≤—Å–µ–≥–æ 4)

1Ô∏è‚É£ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
2Ô∏è‚É£ –ë—Ä–∞—É–∑–µ—Ä (Chrome, Safari, Firefox)
3Ô∏è‚É£ JS-–∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (frontend)
4Ô∏è‚É£ API-—Å–µ—Ä–≤–µ—Ä (—Ç–≤–æ–π Go backend)

---

## –ö—Ç–æ —Ç–∞–∫–æ–π ¬´JS¬ª?

üëâ JS ‚Äî —ç—Ç–æ –∫–æ–¥ —Å–∞–π—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –≤–Ω—É—Ç—Ä–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

–ü—Ä–∏–º–µ—Ä:

* —Ç—ã –æ—Ç–∫—Ä—ã–ª `https://site.com`
* –±—Ä–∞—É–∑–µ—Ä –∑–∞–≥—Ä—É–∑–∏–ª HTML
* –≤–Ω—É—Ç—Ä–∏ HTML –µ—Å—Ç—å JS
* —ç—Ç–æ—Ç JS —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–û–Ω –Ω–µ —Ä–∞–≤–µ–Ω —Å–µ—Ä–≤–µ—Ä—É –∏ –Ω–µ —Ä–∞–≤–µ–Ω –±—Ä–∞—É–∑–µ—Ä—É ‚Äî –æ–Ω –≥–æ—Å—Ç—å –≤–Ω—É—Ç—Ä–∏ –±—Ä–∞—É–∑–µ—Ä–∞.

---

## –ö—Ç–æ –∫–æ–º—É —à–ª—ë—Ç –∑–∞–ø—Ä–æ—Å—ã
### –ù–æ—Ä–º–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–±–µ–∑ CORS)

```
JS ‚Üí –±—Ä–∞—É–∑–µ—Ä ‚Üí API
API ‚Üí –±—Ä–∞—É–∑–µ—Ä ‚Üí JS
```

JS:

```js
fetch("https://api.com/data")
```

---

## –ì–¥–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è CORS

–ï—Å–ª–∏:

```
site.com ‚â† api.com
```

–±—Ä–∞—É–∑–µ—Ä –≥–æ–≤–æ—Ä–∏—Ç:

> ¬´–°—Ç–æ–ø. –Ø –Ω–µ –¥–∞–º —ç—Ç–æ–º—É JS –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ —á–∏—Ç–∞—Ç—å –æ—Ç–≤–µ—Ç—ã —Å —á—É–∂–æ–≥–æ –¥–æ–º–µ–Ω–∞¬ª.

‚ö†Ô∏è –ó–∞–ø—Ä–æ—Å –≤—Å—ë —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç —É–π—Ç–∏!

---

## Preflight (OPTIONS) ‚Äî –∑–∞—á–µ–º –æ–Ω

–ë—Ä–∞—É–∑–µ—Ä —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å:

> ¬´–ê —Å–µ—Ä–≤–µ—Ä –≤–æ–æ–±—â–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —ç—Ç–æ–º—É —Å–∞–π—Ç—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–∏–º?¬ª

–ü–æ—ç—Ç–æ–º—É:

### –®–∞–≥–∏

1Ô∏è‚É£ JS –≥–æ–≤–æ—Ä–∏—Ç –±—Ä–∞—É–∑–µ—Ä—É:

```js
fetch("https://api.com/data", { Authorization, JSON })
```

2Ô∏è‚É£ –ë—Ä–∞—É–∑–µ—Ä —Å–∞–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:

```
OPTIONS https://api.com/data
```

(—Å–µ—Ä–≤–µ—Ä—É)

3Ô∏è‚É£ –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç:

```
Allow-Origin: https://site.com
Allow-Methods: POST
Allow-Headers: Authorization
```

4Ô∏è‚É£ –ë—Ä–∞—É–∑–µ—Ä —Ä–µ—à–∞–µ—Ç:

* ‚ùå –Ω–µ–ª—å–∑—è ‚Üí –Ω–∞—Å—Ç–æ—è—â–∏–π –∑–∞–ø—Ä–æ—Å –ù–ï —à–ª—ë—Ç—Å—è
* ‚úÖ –º–æ–∂–Ω–æ ‚Üí –±—Ä–∞—É–∑–µ—Ä —à–ª—ë—Ç —Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å

---

## –ö—Ç–æ –∑–∞–ø—Ä–µ—â–∞–µ—Ç?

üëâ –¢–û–õ–¨–ö–û –ë–†–ê–£–ó–ï–†

* –Ω–µ —Å–µ—Ä–≤–µ—Ä
* –Ω–µ JS
* –Ω–µ Go
* –Ω–µ HTTP

–°–µ—Ä–≤–µ—Ä –ø—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç ‚Äú—è —Ä–∞–∑—Ä–µ—à–∞—é / –Ω–µ —Ä–∞–∑—Ä–µ—à–∞—é‚Äù –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏.
–ó–∞–ø—Ä–µ—â–∞–µ—Ç –≤—Å–µ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä.

---

## –û—á–µ–Ω—å –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç (–∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é)

‚ö†Ô∏è CORS –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É

–õ—é–±–æ–π –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å:

```
curl https://api.com/data
```

–ò —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—Ç–∏—Ç.

‚ùó –ù–æ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –¥–∞—Å—Ç JS —ç—Ç–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å, –µ—Å–ª–∏ CORS –Ω–µ —Ä–∞–∑—Ä–µ—à—ë–Ω.

---

## –ú–∏–Ω–∏-–∞–Ω–∞–ª–æ–≥–∏—è

JS = —Ä–µ–±—ë–Ω–æ–∫
–ë—Ä–∞—É–∑–µ—Ä = –æ—Ö—Ä–∞–Ω–Ω–∏–∫
API = —Å–æ—Å–µ–¥–Ω–∏–π –¥–æ–º

–†–µ–±—ë–Ω–æ–∫ –≥–æ–≤–æ—Ä–∏—Ç:

> ¬´–•–æ—á—É —Å—Ö–æ–¥–∏—Ç—å –∫ —Å–æ—Å–µ–¥—É¬ª

–û—Ö—Ä–∞–Ω–Ω–∏–∫:

> ¬´–Ø —Å–Ω–∞—á–∞–ª–∞ —Å–ø—Ä–æ—à—É, –º–æ–∂–Ω–æ –ª–∏¬ª

OPTIONS = ¬´–ú–æ–∂–Ω–æ –ª–∏?¬ª
–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ = ¬´–î–∞ / –ù–µ—Ç¬ª
–†–µ—à–µ–Ω–∏–µ = –æ—Ö—Ä–∞–Ω–Ω–∏–∫ (–±—Ä–∞—É–∑–µ—Ä)

---

## –û–¥–Ω–∞ —Ñ—Ä–∞–∑–∞, –∫–æ—Ç–æ—Ä–∞—è –≤—Å—ë —Å–∫–ª–µ–∏–≤–∞–µ—Ç

> JS –ø—Ä–æ—Å–∏—Ç, –±—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç, –∞ –∑–∞–ø—Ä–µ—â–∞–µ—Ç –∏–ª–∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤—Å–µ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä.
