За счет чего в transactional outbox гарантируется обработка сообщений и исключается
их потеря?

Правильный ответ:
- **Событие на обработку сохраняется в базу в той же транзакции что и данные**.

Объяснение:
В паттерне **transactional outbox** событие (сообщение), которое должно быть отправлено,
записывается в отдельную таблицу (outbox) в той же транзакции, что и изменения в базе
данных. Это гарантирует, что либо обе операции (изменение данных и запись события)
происходят успешно, либо не происходит ничего — это исключает возможность потери
сообщений. Позже отдельный процесс считывает события из таблицы и отправляет их в
брокер сообщений (например, Kafka).