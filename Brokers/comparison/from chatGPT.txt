## Kafka vs RabbitMQ — краткий конспект

### 1. Модель сообщений
* RabbitMQ — классические очереди (AMQP):
  producer → queue → consumer
  Поддерживает point-to-point и pub/sub через exchanges.
* Kafka — publish/subscribe + log:
  producer → topic (log) → consumers
  Сообщения хранятся как неизменяемый лог.


### 2. Хранение данных
* RabbitMQ — по умолчанию в памяти, durability нужно включать явно.
* Kafka — всегда пишет на диск, хранит данные по retention-политике.


### 3. Масштабирование
* RabbitMQ — масштабируется, но требует ручной настройки и осторожности.
* Kafka — масштабирование «по дизайну»: партиции, репликация, горизонтальный рост.


### 4. Консумеры
* RabbitMQ — сообщение из очереди получает один consumer.
* Kafka — consumer groups:
  одно сообщение → один consumer внутри группы,
  но разные группы читают одно и то же сообщение независимо.


### 5. Типичные use cases

* RabbitMQ
  * Task queues
  * RPC
  * Enterprise-интеграции
  * Низкая задержка, сложная маршрутизация

* Kafka
  * Event streaming
  * Data pipelines
  * Log aggregation
  * Event sourcing
  * Высокий throughput


### Короткий вывод
* RabbitMQ — «умная очередь сообщений»
* Kafka — «распределённый commit log / streaming-платформа»

Правило выбора:
* Нужны очереди и сложная маршрутизация → RabbitMQ
* Нужен поток событий, масштаб и хранение → Kafka
