## 1. `acks` ‚Äî –≥–∞—Ä–∞–Ω—Ç–∏—è –∑–∞–ø–∏—Å–∏
`acks` ‚Äî —ç—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ producer-–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–æ–≥–¥–∞ Kafka —Å—á–∏—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
—É—Å–ø–µ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã–º.

–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç `acks`:
—Å–∫–æ–ª—å–∫–æ —Ä–µ–ø–ª–∏–∫ (–±—Ä–æ–∫–µ—Ä–æ–≤), –≤—Ö–æ–¥—è—â–∏—Ö –≤ ISR, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –∑–∞–ø–∏—Å—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –ª–æ–≥ –ø–∞—Ä—Ç–∏—Ü–∏–∏
–¥–æ —Ç–æ–≥–æ, –∫–∞–∫ producer –ø–æ–ª—É—á–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (ack)


–ó–Ω–∞—á–µ–Ω–∏—è:
* `acks=0` ‚Äî –Ω–µ –∂–¥—ë–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π (–±—ã—Å—Ç—Ä–æ, –Ω–æ –º–æ–∂–Ω–æ –ø–æ—Ç–µ—Ä—è—Ç—å)
* `acks=1` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª –ª–∏–¥–µ—Ä
* `acks=all` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ –≤—Å–µ ISR


## 2. at-most-once / at-least-once / exactly-once ‚Äî —ç—Ç–æ —Å–µ–º–∞–Ω—Ç–∏–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
–≠—Ç–æ –Ω–µ –æ–¥–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Kafka, –∞ end-to-end –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.

–ö—Ä–∞—Ç–∫–æ:
> Delivery / processing semantics ‚Äî –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –≤ —Ü–µ–ª–æ–º –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è.

–û–Ω–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è:
* –ª–æ–≥–∏–∫–æ–π producer-–∞
* –º–æ–º–µ–Ω—Ç–æ–º commit offset –≤ consumer-–µ
* –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é
* —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏


## 3. –ì–¥–µ –∏ –∫–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏
### At-most-once
* commit offset –î–û –æ–±—Ä–∞–±–æ—Ç–∫–∏
* –≤–æ–∑–º–æ–∂–µ–Ω `acks=0/1`
* —Å–æ–æ–±—â–µ–Ω–∏—è –º–æ–≥—É—Ç —Ç–µ—Ä—è—Ç—å—Å—è
* –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –Ω–µ—Ç

üìç –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ consumer-–∫–æ–¥–µ


### At-least-once (–¥–µ—Ñ–æ–ª—Ç Kafka)
* commit offset –ü–û–°–õ–ï –æ–±—Ä–∞–±–æ—Ç–∫–∏
* –æ–±—ã—á–Ω–æ `acks=all`
* —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è
* –≤–æ–∑–º–æ–∂–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã

üìç –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ consumer-–∫–æ–¥–µ + producer config


### Exactly-once
–¢—Ä–µ–±—É–µ—Ç —Å—Ç—Ä–æ–≥–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —É—Å–ª–æ–≤–∏–π:
Producer:
* `enable.idempotence=true`
* `acks=all`
* `transactional.id`

Consumer:
* `isolation.level=read_committed`
* commit offset –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

Kafka:
* –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
üìç –§–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è producer + consumer + Kafka
