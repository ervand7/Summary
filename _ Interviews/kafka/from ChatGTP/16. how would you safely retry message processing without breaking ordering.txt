Если сообщение в партиции упало — дальше идти нельзя, пока его не обработал
или явно не выкинул.

## Правильное поведение
* 1 партиция = 1 поток
* Обрабатываем сообщения строго по offset

### Ошибка на offset `X`
* ретраим тот же X
* не коммитим offset
* не идём дальше
Kafka при рестарте перечитает с последнего коммита → порядок сохранён.


## Если после ретраев всё плохо
* отправляем `X` в DLQ
* осознанно выкидываем
* коммитим `X+1`
* продолжаем


## Что ломает порядок (нельзя)
* параллельная обработка одной партиции
* коммит `X+N`, если `X` упал
* retry-topic без сохранения партиции/ключа


## Senior-заметка
Порядок гарантирован только внутри партиции.
Нужен порядок для `order_id` → partition key = order_id.


### Формула для запоминания
> Коммит = «всё до этого offset обработано»
