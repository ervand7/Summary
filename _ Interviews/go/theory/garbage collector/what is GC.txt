**Garbage Collector (GC)** ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π:

> üîÑ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å**, –∫–æ—Ç–æ—Ä–∞—è –±–æ–ª—å—à–µ –Ω–µ
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.


## üßπ –ó–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?
–ë–µ–∑ GC, —Ç—ã –±—ã **–¥–æ–ª–∂–µ–Ω –±—ã–ª –≤—Ä—É—á–Ω—É—é –æ—Å–≤–æ–±–æ–∂–¥–∞—Ç—å –ø–∞–º—è—Ç—å** (–∫–∞–∫ –≤ C/C++), –∏ —ç—Ç–æ:

* —Å–ª–æ–∂–Ω–æ
* —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω–æ (—É—Ç–µ—á–∫–∏, double free, use-after-free)

## ‚è± –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è GC –≤ Go?
Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π, –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π, —Ç—Ä–∏–ø–∞–∑–Ω—ã–π Garbage Collector**,
–∏ –æ–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

### 1. üìà **–ö–æ–≥–¥–∞ heap (–∫—É—á–∞) —Ä–∞—Å—Ç—ë—Ç —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ**
* GC –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –µ—Å–ª–∏ –æ–±—ä—ë–º "–∂–∏–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤" –ø—Ä–µ–≤—ã—à–∞–µ—Ç
–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–æ—Ä–æ–≥.
* –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Go —Å—Ç–∞—Ä–∞–µ—Ç—Å—è **—É–¥–µ—Ä–∂–∏–≤–∞—Ç—å heap –Ω–∞ —É—Ä–æ–≤–Ω–µ 100% –æ—Ç –∂–∏–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö**
(GOGC = 100).

### 2. üïê **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (—Ç–∞–π–º–µ—Ä)**
* Go –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å GC –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (—Ä–∞–∑ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥), –µ—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å—Ç–∞–∏–≤–∞–µ—Ç.

### 3. üß™ **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (—Ä–µ–¥–∫–æ –Ω—É–∂–Ω–æ)**
–ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –≤—ã–∑–≤–∞—Ç—å —Å–±–æ—Ä—â–∏–∫:

```go
import "runtime"

runtime.GC()
```

–ù–æ **–ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ** ‚Äî Go –¥–µ–ª–∞–µ—Ç —ç—Ç–æ –ª—É—á—à–µ.


## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç GC (–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ):
1. **Mark (–æ—Ç–º–µ—Ç–∫–∞)** ‚Äî Go –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º "–¥–æ—Å—Ç–∏–∂–∏–º—ã–º" –æ–±—ä–µ–∫—Ç–∞–º, –Ω–∞—á–∏–Ω–∞—è —Å
–∫–æ—Ä–Ω–µ–π.
2. **Sweep (–æ—á–∏—Å—Ç–∫–∞)** ‚Äî –≤—Å–µ **–Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã–µ –æ–±—ä–µ–∫—Ç—ã** —É–¥–∞–ª—è—é—Ç—Å—è, –∞ –∏—Ö –ø–∞–º—è—Ç—å
–æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è.


## üìä –ú–æ–∂–Ω–æ –ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å GC?

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                      |
| ---------- | ----------------------------------------------- |
| `GOGC=off` | –û—Ç–∫–ª—é—á–∞–µ—Ç GC (–æ–ø–∞—Å–Ω–æ)                           |
| `GOGC=200` | –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø–æ—Ä–æ–≥ (–º–µ–Ω—å—à–µ –∑–∞–ø—É—Å–∫–æ–≤, –±–æ–ª—å—à–µ RAM) |
| `GOGC=20`  | –ß–∞—Å—Ç—ã–µ —Å–±–æ—Ä–∫–∏, –º–µ–Ω—å—à–µ RAM, –±–æ–ª—å—à–µ CPU           |
