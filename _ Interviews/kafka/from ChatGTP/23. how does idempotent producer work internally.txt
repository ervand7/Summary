An idempotent producer guarantees that each message is written exactly once
per partition, even if retries happen, by using producer IDs and sequence numbers.

### Key guarantees and limits
* Guarantees no duplicates on retries
* Works per partition
* Requires:
  * `enable.idempotence=true`
  * `acks=all`
  * `retries > 0`
  * `max.in.flight.requests ≤ 5`

❗ Idempotence ≠ exactly-once across consumers (that needs transactions).


### One-liner to remember
> Idempotence uses producer IDs and sequence numbers to deduplicate retries at the broker.
