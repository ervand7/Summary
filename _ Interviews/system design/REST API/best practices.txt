## 1ï¸âƒ£ Fundamental REST Principles

### 1.1 Resource-oriented design

* APIs expose resources, not actions
* Resources are nouns, not verbs

âœ… `/users`
âŒ `/getUsers`

---

### 1.2 HTTP semantics matter

* Use HTTP methods, status codes, headers correctly
* Donâ€™t tunnel everything through `POST`

| Method | Purpose                 |
| ------ | ----------------------- |
| GET    | Read (safe, idempotent) |
| POST   | Create                  |
| PUT    | Replace                 |
| PATCH  | Partial update          |
| DELETE | Remove                  |

---

### 1.3 Statelessness

* Each request contains all necessary context
* No server-side sessions

âœ… Auth via `Authorization` header
âŒ Sticky sessions required

---

## 2ï¸âƒ£ URL Design Best Practices

### 2.1 Naming rules

* Lowercase
* Kebab-case
* Plural nouns

```
/user-profiles
/payment-methods
```

---

### 2.2 Hierarchy rules

Use nesting only when the relationship is strict

```
/users/{id}/cards
```

Avoid deep nesting:

```
/users/{id}/accounts/{id}/cards/{id}/transactions
```

Flatten with filters:

```
/transactions?card_id=123
```

---

### 2.3 Never leak implementation

âŒ

```
/sql-users
/redis-cache
/kafka-events
```

âœ…

```
/users
/events
```

---

## 3ï¸âƒ£ Request & Response Design

### 3.1 JSON conventions

Pick one:

* `snake_case` (backend-friendly)
* `camelCase` (frontend-friendly)

Never mix.

---

### 3.2 Explicit fields

âŒ

```json
{ "status": "ok" }
```

âœ…

```json
{ "payment_status": "approved" }
```

---

### 3.3 Booleans

Use `is_`, `has_`, `can_`

```json
"is_active": true
"has_3ds": false
```

---

### 3.4 Timestamps

* ISO-8601
* Always UTC

```json
"created_at": "2025-01-01T12:00:00Z"
```

---

## 4ï¸âƒ£ Filtering, Sorting, Pagination

### 4.1 Filtering

```
?status=approved
?type=virtual
```

---

### 4.2 Time filtering

```
?from=2025-01-01
?to=2025-01-31
```

---

### 4.3 Pagination (choose one)

#### Offset

```
?limit=50&offset=100
```

#### Cursor (recommended at scale)

```
?limit=50&cursor=eyJpZCI6...
```

---

### 4.4 Sorting

```
?sort=created_at
?sort=-created_at
```

---

## 5ï¸âƒ£ Error Handling Best Practices

### 5.1 Use correct HTTP status codes

| Code | Meaning          |
| ---- | ---------------- |
| 400  | Bad request      |
| 401  | Unauthorized     |
| 403  | Forbidden        |
| 404  | Not found        |
| 409  | Conflict         |
| 422  | Validation error |
| 500  | Server error     |

---

### 5.2 Structured errors

```json
{
  "error_code": "card_not_found",
  "message": "Card does not exist",
  "details": {
    "card_id": "123"
  }
}
```

---

### 5.3 Stable error codes

* Snake_case
* Never change once published

---

## 6ï¸âƒ£ Idempotency & Safety

### 6.1 Idempotent endpoints

* GET, PUT, DELETE must be idempotent
* POST should be idempotent when money is involved

---

### 6.2 Idempotency keys

```
Idempotency-Key: 8f9c-...
```

Same key â†’ same result

---

## 7ï¸âƒ£ Security Best Practices

### 7.1 Authentication

* OAuth2 / JWT
* mTLS for service-to-service

---

### 7.2 Authorization

* Role-based (RBAC)
* Scope-based access

---

### 7.3 Never trust input

* Validate everything
* Enforce schema

---

### 7.4 Sensitive data

* Never expose secrets
* Mask PII

---

## 8ï¸âƒ£ Versioning

### 8.1 Version APIs, not fields

```
/v1/users
/v2/users
```

---

### 8.2 Backward compatibility

* Add fields freely
* Never remove or rename fields

---

## 9ï¸âƒ£ Performance & Scalability

### 9.1 Caching

Use headers:

```
Cache-Control
ETag
If-None-Match
```

---

### 9.2 Avoid chatty APIs

âŒ

```
GET /user
GET /user/profile
GET /user/settings
```

âœ…

```
GET /user?include=profile,settings
```

---

### 9.3 Compression

Enable:

```
gzip
br
```

---

## ğŸ”Ÿ Rate Limiting & Resilience

### 10.1 Rate limiting

Return:

```
429 Too Many Requests
```

Headers:

```
Retry-After
X-RateLimit-Remaining
```

---

### 10.2 Timeouts

* Short, explicit timeouts
* Never rely on defaults

---

### 10.3 Circuit breakers

* Fail fast
* Protect dependencies

---

## 1ï¸âƒ£1ï¸âƒ£ Observability

### 11.1 Correlation IDs

```
X-Request-ID
Traceparent
```

---

### 11.2 Logging

* Log requests, responses (carefully)
* Never log secrets

---

## 1ï¸âƒ£2ï¸âƒ£ Documentation

### 12.1 OpenAPI / Swagger

* Source of truth
* Generated clients

---

### 12.2 Examples

* Request/response samples
* Error samples

---

## 1ï¸âƒ£3ï¸âƒ£ Consistency Rules

* One naming convention
* One error format
* One pagination style
* One auth mechanism

Consistency > personal preference

---

## 1ï¸âƒ£4ï¸âƒ£ What NOT to Do

âŒ Overloading POST for everything
âŒ Returning 200 on errors
âŒ Breaking backward compatibility
âŒ Exposing internal IDs accidentally
âŒ Designing APIs around UI quirks
